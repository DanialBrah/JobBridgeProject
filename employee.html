<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./Frontend/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="./Frontend/css/common.css">
  <link rel="stylesheet" href="./Frontend/css/employee.css">
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  <title>JobBridge Fill Information | JobBridge</title>
</head>
<body>
  <div class="container mx-auto my-8 my-lg-16 mt-5 mb-5 w-100">
    <div class="col-12 col-lg-12">
      <div class="container-fluid text-center mb-5">
        <p class="fw-bold fs-1 fs-2-lg">
          Welcome To <span class="text-primary">JobBridge</span>
        </p>
      </div>
    </div>

    <div class="col-12 col-lg-12">
      <div class="container-sm shadow p-5  bg-light bg-gradient rounded">
        <div class="mb-4 text-center">
          <h1 class="fw-bold fs-1">Job Seeker Profile</h1>
          <p class="fs-5">Please tell us about yourself and upload your latest resume.</p>
        </div>  

        <!-- Profile Form -->
        <form id="jobForm" class="mt-4 text-start needs-validation" action="./Backend/employee.php" method="post" enctype="multipart/form-data" novalidate>

          <!-- Full Name -->
          <div class="mb-4">
            <label for="fullName" class="form-label">Full Name</label>
            <div class="input-group has-validation">
              <input type="text" id="fullName" class="form-control" name="full_name" placeholder="Enter your full name" autocomplete="on" required>
              <div class="invalid-feedback">Full name must be more than 5 characters.</div>
            </div>
          </div>

          <!-- Home Address -->
          <div class="mb-4">
            <label for="home_address" class="form-label">Home Address</label>
            <div class="input-group has-validation">
              <input type="text" id="home_address" name="home_address" class="form-control" placeholder="Enter your home address" autocomplete="on" required>
              <div class="invalid-feedback">Home address must be more than 5 characters.</div>
              <span class="input-group-text text-danger d-none"><i class="fas fa-exclamation-circle"></i></span>
            </div>
          </div>

          <!-- City,State and Postcode -->
          <div class="row g-3">
            <div class="col-md-5 mb-4">
              <label class="form-label" for="city">City</label>
              <input type="text" class="form-control" id="city" name="city" placeholder="City" required>
              <div class="invalid-feedback">City must be more than 5 characters.</div>
            </div>
            <div class="col-md-4 mb-4">
              <label class="form-label" for="state">State</label>
              <input type="text" class="form-control" id="state" name="state" placeholder="State" required>
              <div class="invalid-feedback">State must be more than 5 characters.</div>
            </div>
            <div class="col-md-3 mb-4">
              <label class="form-label" for="postcode">Postal Code</label>
              <input type="text" class="form-control" id="postcode" name="postcode" placeholder="Postcode" required>
              <div class="invalid-feedback">Please provide a valid postal code.</div>
            </div>
          </div>

          <!-- Email -->
          <div class="mb-4">
            <label for="email" class="form-label">Email</label>
            <div class="input-group has-validation">
              <input type="email" id="email" name="email" class="form-control" placeholder="Enter your email address" autocomplete="on" required>
              <div class="invalid-feedback">Please enter a valid email account!</div>
            </div>
          </div>

          <!-- ContactNo -->
          <div class="mb-4">
            <label for="phone" class="form-label">Contact No</label>
            <div class="input-group has-validation">
              <div class="input-group-prepend">
                <select class="form-select" id="phone_code" name="phone_code" required>
                  <option value="MY">MY(+60)</option>
                  <option value="BN">BN(+673)</option>
                  <option value="KH">KH(+855)</option>
                  <option value="ID">ID(+62)</option>
                  <option value="LA">LA(+856)</option>
                  <option value="MM">MM(+95)</option>
                  <option value="PH">PH(+63)</option>
                  <option value="SG">SG(+65)</option>
                </select>
              </div>
              <input type="tel" id="phone" name="phone" class="form-control" placeholder="Enter your phone number" required>
              <div class="invalid-feedback">Please enter a valid phone number!</div>
            </div>
          </div>

          <!-- Expected Salary -->
          <div class="mb-4">
            <label for="salary" class="form-label">Expected Salary</label>
            <div class="input-group">
              <select class="form-select" id="salary_currency" name="salary_currency">
                <option value="MYR">Malaysian Ringgit (MYR)</option>
                <option value="BND">Brunei Dollar (BND)</option>
                <option value="KHR">Cambodian Riel (KHR)</option>
                <option value="IDR">Indonesian Rupiah (IDR)</option>
                <option value="LAK">Lao Kip (LAK)</option>
                <option value="MMK">Burmese Kyat (MMK)</option>
                <option value="PHP">Philippine Peso (PHP)</option>
                <option value="SGD">Singapore Dollar (SGD)</option>
              </select>
              <input type="number" id="salary" name="expected_salary" class="form-control" placeholder="Enter your expected salary" autocomplete="on" required>
              <div class="invalid-feedback">Please enter your expected salary.</div>
            </div>
          </div>

          <!-- Job looking -->
          <div class="mb-4">
            <label for="jobTitle" class="form-label">What job are you looking for?</label>
            <div class="input-group has-validation">
              <input type="text" id="jobTitle" name="job_title" class="form-control" placeholder="Like 'Admin' or 'Barista'" autocomplete="off" required>
              <div class="invalid-feedback">Job title must be more than 5 characters.</div>
            </div>
          </div>

          <!-- Description and State-->
          <div class="mb-4">
            <div>
              <label for="cityState" class="form-label">What state do you want to work in?</label>
              <input type="text" id="cityState" name="job_city" class="form-control" placeholder="Like 'Kedah' or 'Penang'" autocomplete="off" required>
              <div class="invalid-feedback">Please enter the city and state you want to work in.</div>
            </div>
          </div>

          <!-- Resume (if Possible) -->
          <div class="mt-4">
            <label for="relatedFile" class="form-label">Your Resume (if possible)</label>
            <div class="input-group has-validation">
              <label for="formFileSm" class="form-label"></label>
              <input class="form-control form-control-sm" id="relatedFile" type="file" name="resume" multiple>
            </div>
            <div class="invalid-feedback invalid-feedback-resume d-none">Please upload your resume.</div>
            <p class="mt-2 mb-4 text-center ">* Only allows .PDF, .DOC, .DOCX â€” and max 5MB file size</p>
          </div>

          <!-- Check for ready to work -->
          <div class="mt-5">
            <div class="form-check">
              <input type="checkbox" id="readyForWork" class="form-check-input" required>
              <label for="readyForWork" class="form-check-label">
                I am Ready For Work
                <span class="ms-1" style="cursor: pointer;"><i class="fas fa-question-circle text-muted"></i></span>
              </label>
              <div class="invalid-feedback">You must confirm your readiness to work.</div>
            </div>
          </div>
          
          <!-- Check for receiving notifications -->
          <div class="d-flex align-items-start">
            <div class="form-check">
              <input type="checkbox" id="whatsappNotification" class="form-check-input mt-1" required>
              <label for="whatsappNotification" class="form-check-label text-start">
                I am interested in receiving job updates and invitations from JobBridge via my WhatsApp number.
              </label>
              <div class="invalid-feedback">You must agree to receive job updates.</div>
            </div>
          </div>

          <!-- Submit button -->
          <div class="mt-4 p-3">
            <button type="submit" class="btn btn-primary fw-bold w-100">Submit Profile</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <footer class="footer py-3 d-xxl-block d-none">
    <div class="container">
      <div class="d-flex justify-content-between align-items-center">
        <span class="text-muted">&copy; 2024 JobBridge</span>
        <ul class="list-inline mb-0">
          <li class="list-inline-item"><a href="#" class="text-muted">User Agreement</a></li>
          <li class="list-inline-item"><a href="#" class="text-muted">Privacy Policy</a></li>
          <li class="list-inline-item"><a href="#" class="text-muted">Community Guidelines</a></li>
          <li class="list-inline-item"><a href="#" class="text-muted">Cookie Policy</a></li>
          <li class="list-inline-item"><a href="#" class="text-muted">Copyright Policy</a></li>
          <li class="list-inline-item"><a href="#" class="text-muted">Send Feedback</a></li>
          <li class="list-inline-item"><a href="#" class="text-muted">Language</a></li>
        </ul>
      </div>
    </div>
  </footer>
  <script src="./Frontend/js/employee.js"></script>
  <script>
    (function () {
    'use strict';
    var forms = document.querySelectorAll('.needs-validation');

    Array.prototype.slice.call(forms)
      .forEach(function (form) {
        form.addEventListener('submit', function (event) {
          if (!form.checkValidity()) {
            event.preventDefault();
            event.stopPropagation();
          } else {
            // Prevent form submission to handle data storage
            saveFormData();
          }

          form.classList.add('was-validated');
        }, false);
      });
  })();

  function saveFormData() {
    const formData = {
      full_name: document.getElementById('fullName').value,
      home_address: document.getElementById('home_address').value,
      email: document.getElementById('email').value,
      phone: document.getElementById('phone').value,
    };

    sessionStorage.setItem('employeeData', JSON.stringify(formData));
  }
  </script>
</body>
</html>