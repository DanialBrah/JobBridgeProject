<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job-Bridge</title>
    <link rel="stylesheet" href="Frontend/css/homepage.css">
    <link rel="shortcut icon" href="Frontend/images/favicon.ico" type="image/x-icon">
</head>
<body>
    <div id="page-container">
      <div id="content-wrap">
        <header>
          <nav>
              <div class="logo">JobBridge (JobSeeker) </div>
              <ul>
                  <li><a href="employee_homepage.html">Home</a></li>
                  <li><a href="joblist.html">Job Listings</a></li>
                  <li><a href="index.html" style="color: red;">Log Out</a></li>
              </ul>
              <a href="employee_update_profile.html" class="btn-get-started text-end" id="myName">
                <img src="profilepic.jpg" alt="Small image" class="small-image" id="myImage">
                <span id="username">User</span>
              </a>
          </nav>
        </header>
        <main>
            <div class="content">
                <h1>Connecting all workers in Malaysia in one platform</h1>
                <p>A website that helps you to find job easier</p>
                <a href="joblist.html" class="btn-download">Get Started</a>
            </div>
            <div class="image-container">
                <img src="Frontend/images/pic1.png" alt="Phone 1">
                <img src="Frontend/images/pic2.png" alt="Phone 2">
            </div>
        </main>
        <section class="hero">
          <h2>Find Your Dream Job with The Webster</h2>
          <p>Explore thousands of job listings from top companies and industries. Get matched with job openings that fit your skills and interests.</p>
          <button><a href="joblist.html">Start Your Job Search</a></button>
        </section>
        
        <section class="hero">
          <h2>By the Numbers</h2>
          <ul>
            <li>
              <i class="fas fa-users"></i>
              <p>10,000+ job seekers registered</p>
            </li>
            <li>
              <i class="fas fa-briefcase"></i>
              <p>5,000+ job listings from top companies</p>
            </li>
            <li>
              <i class="fas fa-chart-line"></i>
              <p>80% of job seekers find a job within 3 months</p>
            </li>
          </ul>
        </section>
        
        <section class="hero">
          <h2>What Sets Us Apart</h2>
          <ul>
            <li>
              <i class="fas fa-search"></i>
              <p>Advanced job search functionality with filters and alerts</p>
            </li>
            <li>
              <i class="fas fa-user"></i>
              <p>Personalized job recommendations based on your profile and preferences</p>
            </li>
            <li>
              <i class="fas fa-lock"></i>
              <p>Secure and easy-to-use platform for job seekers and employers</p>
            </li>
          </ul>
        </section>
        
        <section class="hero">
          <h2>What Our Users Say</h2>
          <ul>
            <li>
              <p>"The Webster helped me find my dream job in just a few weeks! Thank you!" - John D.</p>
            </li>
            <li>
              <p>"I was able to find the perfect candidate for my company through The Webster. Highly recommend!" - Emily R.</p>
            </li>
          </ul>
        </section>
      </div>
      <footer class="footer mt-auto py-3 d-none d-xxl-block" style="padding: 0px !important; padding-top: 0.6rem !important; padding-bottom: 0.6rem !important;">
        <div class="container">
          <div class="d-flex justify-content-between align-items-center">
            <span class="text-muted">&copy; 2024 JobBridge</span>
            <ul class="list-inline mb-0">
              <li class="list-inline-item"><a href="#" class="footer-link">User Agreement</a></li>
              <li class="list-inline-item"><a href="#" class="footer-link">Privacy Policy</a></li>
              <li class="list-inline-item"><a href="#" class="footer-link">Community Guidelines</a></li>
              <li class="list-inline-item"><a href="#" class="footer-link">Cookie Policy</a></li>
              <li class="list-inline-item"><a href="#" class="footer-link">Copyright Policy</a></li>
              <li class="list-inline-item"><a href="#" class="footer-link">Send Feedback</a></li>
              <li class="list-inline-item"><a href="#" class="footer-link">Language</a></li>
            </ul>
          </div>
        </div>
        <button onclick="fetchUserDetails()">click</button>
      </footer>
    </div>

      <script>
        const fetchUserDetails = async () => {
            try {
                const response = await fetch('./Backend/employee_homepage.php', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                });
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                const userDetails = await response.json();
                console.log(userDetails);
                renderUserDetails(userDetails);
            } 
            catch (error) {
                console.error('There was a problem with the fetch operation:', error);
            }
        }
  
        const renderUserDetails = (user) => {
          console.log(user[0]);
            // const userProfile = document.getElementById('myName');
            const username = document.getElementById('username')
            const profileImage = document.getElementById('myImage')

            if(user){
              username.innerText = user[0].full_name;
              profileImage.src = user[0].profileImage
            }
            // if (user.profileImage) {
            //     userProfile.innerHTML = `<img src="${user.profileImage}" alt="Small image" class="small-image"><span>${user.full_name}</span>`;
            // } else {
            //     userProfile.innerHTML = `<img src="default_profile_image.jpg" alt="Small image" class="small-image"><span>${user.full_name}</span>`;
            // }
        }
      //  document.addEventListener('DOMContentLoaded', fetchUserDetails())


      </script>
</body>
</html>
